<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="js/jquery/jquery-1.12.4.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/base.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">

     <script type="text/javascript" src="js/jquery.ba-throttle-debounce.js"></script>
     <script type="text/javascript" src="js/infinite-scroll.pkgd.js"></script>
     <!--[if lt IE 8]> <script src="js/json2.js"></script> <![endif]-->
</head>

<body>
    <div class="coms-header">
        <div class="coms-container clearfix">
            <h1 class="logo">
				<p class="beta">beta</p>
				<a href="#">好店</a>
			</h1>
            <ul class="header-nav">
                <li class="current"><a href="index.html">好店榜单</a></li>
                <li><a href="GuanYuWoMen.html">关于好店</a></li>
            </ul>
        </div>
    </div>
    <div class="coms-container mt20 clearfix relative">
        <div class="gsrank-aside-wrapper" id="gsrank-aside-wrapper">
            <div class="aside-box">
                <p class="caption">好店分类</p>
                <div class="list">
                    <ul>
                        <li class="current"><a href="#">烧烤<i></i></a></li>
                        <li><a href="#">火锅<i></i></a></li>
                        <li><a href="#">西餐<i></i></a></li>
                        <li><a href="#">日料<i></i></a></li>
                        <li><a href="#">小吃<i></i></a></li>
                        <li><a href="#">自助餐<i></i></a></li>
                        <li><a href="#">闽菜<i></i></a></li>
                        <li><a href="#">韩国料理<i></i></a></li>
                        <li><a href="#">川菜<i></i></a></li>
                        <li><a href="#">东南亚菜<i></i></a></li>
                        <li><a href="#">家常菜<i></i></a></li>
                        <li><a href="#">私房菜<i></i></a></li>
                        <li><a href="#">粤菜<i></i></a></li>
                        <li><a href="#">海鲜<i></i></a></li>
                        <li><a href="#">东北菜<i></i></a></li>
                        <li><a href="#">测试测试测试测试<i></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="gsrank-main">
            <div class="soma-hd clearfix">
                <p class="tit">厦门-烧烤</p>
                <span class="rank">Top50</span>
                <span class="time">数据更新截止：17/12/14</span>
            </div>
            <div class="rank-list-tit-seat">
                <ul class="rank-list rank-list-tit">
                    <li class="cols cols-1">排名</li>
                    <li class="cols cols-2">商家</li>
                    <li class="cols cols-3">口味</li>
                    <li class="cols cols-4">服务</li>
                    <li class="cols cols-5">环境</li>
                    <li class="cols cols-6">五星好评率</li>
                    <li class="cols cols-7">差评率</li>
                    <li class="cols cols-8">好店指数</li>
                </ul>
            </div>
            <ul class="rank-list rank-list-info">
                <!-- <li class="clearfix">
                    <div class="cols cols-1"><span class="num first">1</span></div>
                    <div class="cols cols-2">
                        <p class="name">小王烧烤</p>
                    </div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num second">2</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num third">3</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">4</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">5</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">6</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">7</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">8</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">9</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">10</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">11</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">12</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">13</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">14</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">15</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">16</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">17</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">18</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">19</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li>
                <li class="clearfix">
                    <div class="cols cols-1"><span class="num">20</span></div>
                    <div class="cols cols-2">小王烧烤</div>
                    <div class="cols cols-3">9.0</div>
                    <div class="cols cols-4">8.8</div>
                    <div class="cols cols-5">8.8</div>
                    <div class="cols cols-6">98%</div>
                    <div class="cols cols-7">0.2%</div>
                    <div class="cols cols-8"><span class="zs">895</span></div>
                </li> -->
            </ul>

            <div class="page-load-status">
			  <div class="infinite-scroll-request">
					<p class="coms-load-more">
		                <i class="pic"></i>
		            </p>
			  </div>
			  <p class="infinite-scroll-last">End of content</p>
			  <p class="infinite-scroll-error">No more pages to load</p>
			</div>
            

            
        </div>
    </div>
    <div class="coms-footer">
        <div class="coms-container clearfix">
            <div class="fl">
                <span class="ft_logo"></span>
                <p class="slogan">你喜欢的才是好店</p>
            </div>
            <p class="copyright">福建小鱼网络科技股份有限公司版权所有 © 2018 闽ICP备05000086号-2</p>
        </div>
    </div>
    <script type="text/javascript">
    (function($) {
        $(function() {
            var $aside = $("#gsrank-aside-wrapper");
            var offsetTop = $aside.offset().top;
            var $win = $(window);
            $win.on("scroll", $.throttle(250, function() {
                var scrollTop = $(window).scrollTop();
                if (scrollTop > offsetTop) {
                    $aside.addClass('fixed');
                } else {
                    $aside.removeClass('fixed')
                }

            }));
        });
    })(jQuery);

    (function($) {
        $(function() {
            var $seat = $(".rank-list-tit"),
                $win = $(window),
                offsetTop = $seat.offset().top;
            offsetLeft = $seat.offset().left;
            $win.on("scroll", $.throttle(100, function() {
                var scrollTop = $win.scrollTop();
                if (scrollTop > offsetTop) {
                    $seat.css({ top: 0, left: offsetLeft, "position": "fixed" });
                } else {
                    $seat.css({ top: 0, left: 0, "position": "static" });
                }
            }));
        })
    })(jQuery);

    $(function(){
    	$('.rank-list-info').infiniteScroll({
    		path: function() {
			   if(this.loadCount < 4){
			   	var pageNumber = ( this.loadCount + 1 );
			  	return 'http://wnworld.com/api/page.php?page=' + pageNumber;
			   }else{
			   	  console.dir(this.loadOnScroll)
			   }
			},
    		append: false,
    		responseType: 'json',
    		history: false,
    		checkLastPage:true,
    		status: '.page-load-status'
    	});
    	$('.rank-list-info').on( 'load.infiniteScroll', function( event, response ) {
    		 	console.dir(response);
		 		var str="";
		 		for(var i=0;i<response.length;i++){
		 			str+= '<li class="clearfix">'
                    	str+='<div class="cols cols-1"><span class="num">'+response[i]["rank"]+'</span></div>'
                    	str+='<div class="cols cols-2">'+response[i]["name"]+'</div>'
	                    str+='<div class="cols cols-3">'+response[i]["taste"]+'</div>'
	                    str+='<div class="cols cols-4">'+response[i]["service"]+'</div>'
	                    str+='<div class="cols cols-5">'+response[i]["environment"]+'</div>'
	                    str+='<div class="cols cols-6">'+response[i]["goodcomment"]+'</div>'
	                    str+='<div class="cols cols-7">'+response[i]["badcomment"]+'</div>'
                   		str+='<div class="cols cols-8"><span class="zs">'+response[i]["heat"]+'</span></div>'
                	str+='</li>';
		 		}
		 		$('.rank-list-info').infiniteScroll( 'appendItems',$(str));
		});
		$('.rank-list-info').infiniteScroll('loadNextPage')
    })
    </script>
</body>

</html>